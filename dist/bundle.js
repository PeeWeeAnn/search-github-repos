(()=>{"use strict";let e=document.querySelector("input"),t=document.querySelector(".list");function n(e,t,n,c){t.classList.add(n),t.textContent=c,e.prepend(t)}function c(e){e.remove()}e.addEventListener("keydown",(a=>{if("Enter"===a.key){if(a.preventDefault(),document.querySelector(".search_message")&&c(document.querySelector(".search_message")),!a.currentTarget.value){let e=document.createElement("p");n(t,e,"search_message","Вы ничего не ввели в поисковую строку!")}(async function(e){let c=await fetch(`https://api.github.com/search/repositories?q=${e}&page=1&per_page=10`).then((e=>e.json())).catch((e=>console.log(e)));if(c.items.length){let a=document.createElement("p");n(t,a,"search_message",`Найдены результаты по запросу ${e}`),function(e){let t=document.getElementById("results_list");e.forEach((e=>{let n=document.createElement("li"),c=document.createElement("anchor"),a=document.createElement("p"),r=document.createElement("p"),o=document.createElement("p");c.textContent=e.name,c.href=e.html_url,c.target="_blank",a.textContent=e.description||"No description",r.textContent="☆"+e.stargazers_count,o.textContent=e.created_at,n.append(c),n.append(a),n.append(r),n.append(o),t.append(n)}))}(c.items)}else{let c=document.createElement("p");n(t,c,"search_message",`Ничего не найдено по запросу ${e}!`)}})(e.value),e.value="",document.querySelectorAll("#results_list > *").forEach((e=>{c(e)}))}}))})();